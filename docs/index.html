<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Semantic Fingerprinting in R • sfutils</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><meta property="og:title" content="Semantic Fingerprinting in R">
<meta property="og:description" content="
    This package enables the user to create, manipulate, plot and compute with 'semantic fingerprints',
    developed by www.cortical.io in R. It does so by porting the python module 'retinasdk' to R. ">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">sfutils</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="articles/index.html">Vignettes</a>
</li>
<li>
  <a href="reference/index.html">Functions</a>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
<li>
  <a href="TODO.html">To do</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    See also
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://github.com/cortical-io/retina-sdk.py">Python retinasdk module</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Useful links
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="http://api.cortical.io">Cortical API tool</a>
    </li>
    <li>
      <a href="http://documentation.cortical.io/the_power_of_expressions.html">Retina API documentation</a>
    </li>
    <li>
      <a href="http://www.cortical.io/static/downloads/semantic-folding-theory-white-paper.pdf">Semantic folding whitepaper</a>
    </li>
  </ul>
</li>
<li>
  <a href="http://www.cortical.io">Cortical.io</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="mailto:jasperginn@gmail.com">
    <span class="fa fa-envelope"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/JasperHG90/sfutils">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<div id="sfutils" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#sfutils" class="anchor"></a>sfutils</h1></div>

<p>The goal of <code>sfutils</code> is to provide code and documentation on working with <a href="http://www.cortical.io/technology_semantic.html">semantic fingerprints</a> in R.</p>
<p>It does this by:</p>
<ul>
<li>porting the functionality of the <a href="https://github.com/cortical-io/retina-sdk.py">retinasdk</a> python module to R using the <a href="https://github.com/rstudio/reticulate">reticulate</a> library</li>
<li>implementing an object-oriented approach to working with semantic fingerprints in R.</li>
<li>providing methods and functions that make it easy to compare fingerprints, convert fingerprints to sparse binary matrices, plot fingerprints etc.</li>
</ul>
<div id="awesome-what-do-i-need-to-do-to-install-this-package" class="section level3">
<h3 class="hasAnchor">
<a href="#awesome-what-do-i-need-to-do-to-install-this-package" class="anchor"></a>Awesome! What do I need to do to install this package?</h3>
<p>First things first: have you heard of the reticulate library? It provides a pretty straightforward API to run Python code in R and convert objects between these two languages. <code>sfutils</code> uses the reticulate package to communicate with Python.</p>
<p>This package uses Python 3.x and the <code>retinasdk</code> module. If you haven’t yet installed Python 3, go ahead and do so. Make sure to also install <code>pip</code>. Generally, I find it easiest to install the <a href="https://www.anaconda.com/download/">Anaconda</a> distribution.</p>
<p>When you’ve installed Python and pip, execute the following in a terminal:</p>
<pre class="terminal"><code>pip install retinasdk</code></pre>
<p>You can then install the latest version of <code>sfutils</code> from GitHub using:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"JasperHG90/sfutils"</span>)</code></pre></div>
<p>If you don’t have the devtools library installed, execute <code>install.packages("devtools")</code> first.</p>
</div>
<div id="im-all-set-how-do-i-get-started" class="section level3">
<h3 class="hasAnchor">
<a href="#im-all-set-how-do-i-get-started" class="anchor"></a>I’m all set! How do I get started?</h3>
<p>Go ahead and load the package</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">suppressPackageStartupMessages</span>(<span class="kw">library</span>(sfutils))</code></pre></div>
<p>The first thing to do is to set your API key, the server url and retina name as environment variables. If you’re using the free API, you can just set your key and forget about the other two options.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Set credentials</span>
<span class="kw">Sys.setenv</span>(<span class="st">"CORTICAL_SERVER"</span> =<span class="st"> "http://api.cortical.io/rest"</span>) <span class="co"># Optional</span>
<span class="kw">Sys.setenv</span>(<span class="st">"CORTICAL_RETINA"</span> =<span class="st"> "en_associative"</span>) <span class="co"># Optional</span>
<span class="kw">Sys.setenv</span>(<span class="st">"CORTICAL_API_KEY"</span> =<span class="st"> "mykey"</span>)</code></pre></div>
<p>Alternatively, you can put these options in your global or local .Rprofile.</p>
<p>I’ve included several business descriptions that I retrieved from Thompson Reuters. I’ll be using those for the examples below.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(<span class="st">"company_descriptions"</span>)</code></pre></div>
<p>The following are core <code>sfutils</code> functions used to ‘fingerprint’ your <a href="http://documentation.cortical.io/working_with_text.html">documents</a>, <a href="http://documentation.cortical.io/working_with_terms.html">terms</a>, <a href="http://documentation.cortical.io/the_power_of_expressions.html">semantic expressions</a> or <a href="http://documentation.cortical.io/classification.html">category filters</a>:</p>
<ul>
<li>
<code><a href="reference/do_fingerprint_document.html">do_fingerprint_document()</a></code> : fingerprint a text</li>
<li>
<code><a href="reference/do_fingerprint_term.html">do_fingerprint_term()</a></code> : fingerprint a term</li>
<li>
<code><a href="reference/do_fingerprint_expression.html">do_fingerprint_expression()</a></code> : fingerprint a semantic expression</li>
<li>
<code><a href="reference/do_create_filter.html">do_create_filter()</a></code> : create a category filter</li>
</ul>
<p>In the case of the company description data, we can send a list of documents in bulk to the API to be fingerprinted. This is more efficient than doing it one-by-one.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Put descriptions into a list</span>
txt_lst &lt;-<span class="st"> </span><span class="kw">lapply</span>(company_descriptions, <span class="cf">function</span>(x) x<span class="op">$</span>desc)
<span class="co"># Create fingerprints</span>
fps &lt;-<span class="st"> </span><span class="kw"><a href="reference/do_fingerprint_document.html">do_fingerprint_document</a></span>(txt_lst)</code></pre></div>
<p>This returns an object of the ‘Collection’ class. A Collection is simply a grouping of objects with a semantic fingerprint (in our case texts). It behaves a lot like a list:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fps[[<span class="dv">1</span>]]</code></pre></div>
<pre><code>## Document object.
## 
##  unique id:  7c392206-cd14-4db8-8fc5-1bf838da6a03
##  type:       document
##  fingerprint:    984 positions</code></pre>
<p>You may, in fact, convert it to a list if you want</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fps_lst &lt;-<span class="st"> </span><span class="kw">as.list</span>(fps)
<span class="co"># OR</span>
fps_lst &lt;-<span class="st"> </span><span class="kw"><a href="reference/getters.html">entries</a></span>(fps)</code></pre></div>
<p>But there are some advantages to keeping the data in this format. For one, we can plot the intensity (normalized count) of each position</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(fps)</code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-8-1.png" width="576"></p>
<p>Or we can convert the collection to a sparse binary matrix. In this representation, we have 16384 columns (as many as there are positions in the retina) and <span class="math inline">\(n\)</span> rows (where n equals the number of entries). If a position is present in the document, it has a value of 1. Else, it has a value of 0.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fps_binmat &lt;-<span class="st"> </span><span class="kw">as.matrix</span>(fps)
fps_binmat[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>]</code></pre></div>
<pre><code>## 5 x 5 sparse Matrix of class "dgCMatrix"
##                                      p1 p2 p3 p4 p5
## 7c392206-cd14-4db8-8fc5-1bf838da6a03  .  .  .  .  .
## a4cabe2c-49af-488f-a8a3-0bef1c245807  .  .  .  .  .
## 915b5c96-a1d9-4ef3-a77b-7bbd182d0f62  .  .  .  .  .
## 9867b856-b2dc-48f8-bf9b-f2b6d1c3b21f  .  .  .  1  .
## 952dc6ef-bfed-475b-93c7-cbf78703e325  1  1  1  1  .</code></pre>
<p>This representation is especially useful if you want to compare a bunch of fingerprints to another fingerprint. For example: we want to compare all company descriptions to the fingerprint of the term ‘software’, ‘finance’, and ‘food’:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Fingerprint terms</span>
trm_soft &lt;-<span class="st"> </span><span class="kw"><a href="reference/do_fingerprint_term.html">do_fingerprint_term</a></span>(<span class="st">"software"</span>)
trm_fin &lt;-<span class="st"> </span><span class="kw"><a href="reference/do_fingerprint_term.html">do_fingerprint_term</a></span>(<span class="st">"finance"</span>)
trm_cons &lt;-<span class="st"> </span><span class="kw"><a href="reference/do_fingerprint_term.html">do_fingerprint_term</a></span>(<span class="st">"food"</span>)

<span class="co"># Compare descriptions to these fingerprints</span>
cmp_soft &lt;-<span class="st"> </span><span class="kw"><a href="reference/do_compare-methods.html">do_compare</a></span>(fps_binmat, trm_soft)
cmp_fin &lt;-<span class="st"> </span><span class="kw"><a href="reference/do_compare-methods.html">do_compare</a></span>(fps_binmat, trm_fin)
cmp_cons &lt;-<span class="st"> </span><span class="kw"><a href="reference/do_compare-methods.html">do_compare</a></span>(fps_binmat, trm_cons)

<span class="co"># Combine the results</span>
cmp_comb &lt;-<span class="st"> </span><span class="kw">do.call</span>(cbind.data.frame, <span class="kw">list</span>(cmp_soft, cmp_fin, cmp_cons))

<span class="co"># Change the names of the matrix</span>
<span class="kw">rownames</span>(cmp_comb) &lt;-<span class="st"> </span><span class="kw">names</span>(company_descriptions)
<span class="kw">colnames</span>(cmp_comb) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"software"</span>, <span class="st">"finance"</span>, <span class="st">"food"</span>)
cmp_comb</code></pre></div>
<pre><code>##            software   finance      food
## unilever 0.13025585 0.1548989 0.3150783
## ahold    0.07040857 0.1425774 0.3520428
## ing      0.15313864 0.3960482 0.1777816
## Alphabet 0.36260413 0.1936236 0.1636999
## apple    0.52982448 0.1531386 0.1460978
## jpmorgan 0.20418485 0.4206912 0.1742612</code></pre>
<p>As we can see, this comparison works well, even though we just use one term. We could make a better comparison by creating a category filter.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create a category filter using wikipedia snippets</span>
<span class="co"># https://en.wikipedia.org/wiki/Finance</span>
<span class="co"># https://en.wikipedia.org/wiki/Information_technology</span>
<span class="co"># https://en.wikipedia.org/wiki/Final_good</span>
filt &lt;-<span class="st"> </span><span class="kw"><a href="reference/do_create_filter.html">do_create_filter</a></span>(
  <span class="st">"finance"</span>,
  <span class="dt">positive =</span> <span class="kw">c</span>(<span class="st">"Finance is a field that deals with the study of investments. It includes the dynamics of assets and liabilities over time under conditions of different degrees of uncertainties and risks. Finance can also be defined as the science of money management. Market participants aim to price assets based on their risk level, fundamental value, and their expected rate of return. Finance can be broken into three sub-categories: public finance, corporate finance and personal finance."</span>,
               <span class="st">"Corporate finance deals with the sources funding and the capital structure of corporations, the actions that managers take to increase the value of the firm to the shareholders, and the tools and analysis used to allocate financial resources. Although it is in principle different from managerial finance which studies the financial management of all firms, rather than corporations alone, the main concepts in the study of corporate finance are applicable to the financial problems of all kinds of firms. "</span>),
  <span class="dt">negative =</span> <span class="kw">c</span>(<span class="st">"Information technology (IT) is the use of computers to store, retrieve, transmit, and manipulate data, or information, often in the context of a business or other enterprise. IT is considered to be a subset of information and communications technology (ICT)."</span>,
               <span class="st">"In economics, any commodity which is produced and subsequently consumed by the consumer, to satisfy his current wants or needs, is a consumer good or final good. Consumer goods are goods that are ultimately consumed rather than used in the production of another good. For example, a microwave oven or a bicycle which is sold to a consumer is a final good or consumer good, whereas the components which are sold to be used in those goods are called intermediate goods. For example, textiles or transistors which can be used to make some further goods."</span>)
)

<span class="co"># Compare</span>
cmp &lt;-<span class="st"> </span><span class="kw"><a href="reference/do_compare-methods.html">do_compare</a></span>(fps_binmat, filt)
<span class="kw">rownames</span>(cmp) &lt;-<span class="st"> </span><span class="kw">names</span>(company_descriptions)
<span class="kw">colnames</span>(cmp) &lt;-<span class="st"> "filter"</span>

cmp</code></pre></div>
<pre><code>##             filter
## unilever 0.1954150
## ahold    0.1539955
## ing      0.3589688
## Alphabet 0.2060354
## apple    0.1529335
## jpmorgan 0.3717133</code></pre>
<p>This does what we expect; ING and JPMorgan get a high similarity score (&gt;0.3) and the others have a lower score.</p>
<p>Alternatively, we might be interested in comparing the company descriptions to one another:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create an empty matrix</span>
m &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">0</span>, <span class="dt">ncol =</span> <span class="dv">6</span>, <span class="dt">nrow =</span> <span class="dv">6</span>)
<span class="co"># Populate matrix. Use Euclidean distance</span>
<span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">6</span>) {
  m[,i] &lt;-<span class="st"> </span><span class="kw"><a href="reference/do_compare-methods.html">do_compare</a></span>(fps_binmat, fps[[i]], 
                      <span class="dt">method =</span> <span class="st">"euclid"</span>)[,<span class="dv">1</span>]
}
<span class="kw">colnames</span>(m) &lt;-<span class="st"> </span><span class="kw">names</span>(company_descriptions)
<span class="kw">rownames</span>(m) &lt;-<span class="st"> </span><span class="kw">names</span>(company_descriptions)
<span class="kw">print</span>(m)</code></pre></div>
<pre><code>##          unilever    ahold      ing Alphabet    apple jpmorgan
## unilever  0.00000 37.68289 35.83295 36.74235 36.82391 36.74235
## ahold    37.68289  0.00000 36.98648 38.31449 39.03844 38.23611
## ing      35.83295 36.98648  0.00000 34.89986 36.27671 28.56571
## Alphabet 36.74235 38.31449 34.89986  0.00000 30.52868 34.69870
## apple    36.82391 39.03844 36.27671 30.52868  0.00000 36.00000
## jpmorgan 36.74235 38.23611 28.56571 34.69870 36.00000  0.00000</code></pre>
<p>Then we can use e.g. hierarchical clustering to cluster the companies based on their descriptions.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Convert to a distance matrix</span>
fps_dist &lt;-<span class="st"> </span><span class="kw">as.dist</span>(m)
<span class="co"># Create clusters</span>
clusters &lt;-<span class="st"> </span><span class="kw">hclust</span>(fps_dist, <span class="dt">method =</span> <span class="st">"ward.D2"</span>)
<span class="co"># Plot</span>
<span class="kw">plot</span>(clusters)</code></pre></div>
<p><img src="plots/dendo.png" width="80%/"></p>
<p>You can use the <a href="http://factominer.free.fr">FactoMineR</a> package to reduce the number of dimensions. This is useful especially when you want to compare many documents, because it reduces the number of dimensions (16384 in our case, or the number of positions) to just <span class="math inline">\(k\)</span> dimensions, where <span class="math inline">\(k\)</span> is the number of principal components we want to use.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(FactoMineR)
<span class="co"># Run PCA</span>
fps_reduced &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/FactoMineR/topics/PCA">PCA</a></span>(<span class="kw">as.matrix</span>(fps_binmat), 
                   <span class="dt">ncp =</span> <span class="kw">ncol</span>(fps_binmat), 
                   <span class="dt">graph =</span> <span class="ot">FALSE</span>)

<span class="co"># Predict</span>
pred &lt;-<span class="st"> </span><span class="kw">predict</span>(fps_reduced, 
                <span class="kw">as.matrix</span>(fps_binmat))<span class="op">$</span>coord

<span class="co"># Reshape</span>
<span class="kw">library</span>(dplyr)
pred_resh &lt;-<span class="st"> </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/reexports.html">as_data_frame</a></span>(pred) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">company =</span> <span class="kw">names</span>(company_descriptions)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/select.html">select</a></span>(company, Dim.<span class="dv">1</span>, Dim.<span class="dv">2</span>) 

<span class="co"># Plot</span>
<span class="kw">library</span>(ggplot2)
<span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/ggplot">ggplot</a></span>(pred_resh, <span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/aes">aes</a></span>(<span class="dt">x=</span>Dim.<span class="dv">1</span>, <span class="dt">y=</span>Dim.<span class="dv">2</span>, <span class="dt">color =</span> company)) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/geom_point">geom_point</a></span>(<span class="dt">size =</span> <span class="dv">2</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/ggtheme">theme_bw</a></span>()</code></pre></div>
<p><img src="plots/PCA.png" width="80%/"></p>
<p>This result is quite interesting. The companies’ distance to each other seems to be influenced by how similar their business descriptions are.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Cluster companies using only two dimensions</span>
pred_resh<span class="op">$</span>company &lt;-<span class="st"> </span><span class="ot">NULL</span>
pred_resh &lt;-<span class="st"> </span><span class="kw">as.matrix</span>(pred_resh)
<span class="kw">rownames</span>(pred_resh) &lt;-<span class="st"> </span><span class="kw">names</span>(company_descriptions)
x &lt;-<span class="st"> </span><span class="kw">dist</span>(pred_resh)

<span class="co"># Cluster</span>
clust &lt;-<span class="st"> </span><span class="kw">hclust</span>(x)
<span class="kw">plot</span>(clust)</code></pre></div>
<p><img src="plots/dendo2.png" width="80%/"></p>
<p>For more examples, check out the vignettes.</p>
</div>
<div id="whats-the-performance-like" class="section level3">
<h3 class="hasAnchor">
<a href="#whats-the-performance-like" class="anchor"></a>What’s the performance like?</h3>
<p>That depends on your use case. If you want to work with &gt;10K documents and need to use this in a production environment, then performance probably isn’t great. If you don’t care about execution times that much then you can easily use this package for 100K+ documents. Check the graph below for an indication of performance.</p>
<p><img src="plots/speed.png" width="80%/"></p>
<p><code>as.matrix()</code> takes roughly 10 minutes for 100.000 documents and takes up 1.1GB of space comparing a document to 100.000 documents takes roughly 6 minutes. By comparison, this operation takes +- 25 seconds on a collection of 10.000 documents (size is +-123MB).</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/JasperHG90/sfutils.git">https://​github.com/​JasperHG90/​sfutils.git</a>
</li>
<li>Report a bug at <br><a href="https://github.com/JasperHG90/sfutils/issues">
    https://​github.com/​JasperHG90/​sfutils/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> | file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Jasper Ginn <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="http://www.repostatus.org/#inactive"><img src="http://www.repostatus.org/badges/latest/inactive.svg" alt="Project Status: Inactive – The project has reached a stable, usable state but is no longer being actively developed; support/maintenance will be provided as time allows."></a></li>
<li><a href="https://www.tidyverse.org/lifecycle/#stable"><img src="https://img.shields.io/badge/lifecycle-stable-brightgreen.svg" alt="lifecycle"></a></li>
<li><a href="https://travis-ci.com/JasperHG90/sfutils"><img src="https://travis-ci.com/JasperHG90/sfutils.svg?token=pcr5vqKcs9MFoH1thkwe&amp;branch=master" alt="Build Status"></a></li>
<li><a href="https://codecov.io/gh/JasperHG90/sfutils"><img src="https://codecov.io/gh/JasperHG90/sfutils/branch/master/graph/badge.svg?token=jsmRpS2I9Q" alt="codecov"></a></li>
<li><a href="https://cran.r-project.org/"><img src="https://img.shields.io/badge/R%3E%3D-3.1.0-6666ff.svg" alt="minimal R version"></a></li>
<li><a href="https://cran.r-project.org/package=sfutils"><img src="http://www.r-pkg.org/badges/version/sfutils" alt="CRAN_Status_Badge"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Jasper Ginn.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
