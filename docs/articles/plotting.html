<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Plotting fingerprints â€¢ sfutils</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><meta property="og:title" content="Plotting fingerprints">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sfutils</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="../TODO.html">To do</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    See also
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://github.com/cortical-io/retina-sdk.py">Python retinasdk module</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Useful links
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="http://api.cortical.io">Cortical API tool</a>
    </li>
    <li>
      <a href="http://documentation.cortical.io/the_power_of_expressions.html">Retina API documentation</a>
    </li>
    <li>
      <a href="http://www.cortical.io/static/downloads/semantic-folding-theory-white-paper.pdf">Semantic folding whitepaper</a>
    </li>
  </ul>
</li>
<li>
  <a href="http://www.cortical.io">Cortical.io</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../mailto:jasperginn@gmail.com">
    <span class="fa fa-envelope"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/JasperHG90/sfutils">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Plotting fingerprints</h1>
                        <h4 class="author">Jasper Ginn</h4>
            
            <h4 class="date">2018-05-27</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/JasperHG90/sfutils.git/blob/master/vignettes/plotting.Rmd"><code>vignettes/plotting.Rmd</code></a></small>
      <div class="hidden name"><code>plotting.Rmd</code></div>

    </div>

    
    
<p>All objects with a semantic fingerprint can be plotted. For example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">suppressPackageStartupMessages</span>(<span class="kw">library</span>(sfutils))
<span class="co">#&gt; No cortical key registered. Execute 'Sys.setenv('CORTICAL_API_KEY' = '&lt;your-key&gt;')' to set your credentials.</span>
<span class="kw">library</span>(ggplot2)
<span class="co"># Take a company description</span>
<span class="kw">data</span>(<span class="st">"company_descriptions"</span>)
unilever &lt;-<span class="st"> </span><span class="kw"><a href="../reference/do_fingerprint_document.html">do_fingerprint_document</a></span>(company_descriptions<span class="op">$</span>unilever<span class="op">$</span>desc)
ahold &lt;-<span class="st"> </span><span class="kw"><a href="../reference/do_fingerprint_document.html">do_fingerprint_document</a></span>(company_descriptions<span class="op">$</span>ahold<span class="op">$</span>desc)

<span class="co"># Fingerprint a term</span>
trm &lt;-<span class="st"> </span><span class="kw"><a href="../reference/do_fingerprint_term.html">do_fingerprint_term</a></span>(<span class="st">"apple"</span>)

<span class="co"># Fingerprint an expression</span>
exp &lt;-<span class="st"> </span><span class="kw">list</span>(
  <span class="co"># Named operator</span>
  <span class="st">"sub"</span> =<span class="st"> </span><span class="kw">list</span>( <span class="co"># ... whose value is a list</span>
    <span class="kw">list</span>(<span class="st">"term"</span> =<span class="st"> "apple"</span>), <span class="co"># ... each element has its own list.</span>
    <span class="kw">list</span>(<span class="st">"text"</span> =<span class="st"> "Mac OS is a series of graphical user interface-based operating systems developed by Apple Inc. for their Macintosh line of computer systems."</span>)
  )
)
expr &lt;-<span class="st"> </span><span class="kw"><a href="../reference/do_fingerprint_expression.html">do_fingerprint_expression</a></span>(exp)

<span class="co"># Create a category filter</span>
filt &lt;-<span class="st"> </span><span class="kw"><a href="../reference/do_create_filter.html">do_create_filter</a></span>(
  <span class="st">"crude"</span>,
  <span class="dt">positive =</span> <span class="kw">c</span>(
    <span class="st">"Petroleum is a naturally occurring, yellow-to-black liquid found in geological formations beneath the Earth's surface. It is commonly refined into various types of fuels. Components of petroleum are separated using a technique called fractional distillation i.e. separation of a liquid mixture into fractions differing in boiling point by means of distillation, typically using a fractionating column."</span>,
    <span class="st">"Gasoline (American English), or petrol (British English), is a transparent, petroleum-derived liquid that is used primarily as a fuel in spark-ignited internal combustion engines. It consists mostly of organic compounds obtained by the fractional distillation of petroleum, enhanced with a variety of additives. On average, a 42-gallon barrel of crude oil (159 L) yields about 19 US gallons (72 L) of gasoline when processed in an oil refinery, though this varies based on the crude oil source's assay."</span>
  )
)

<span class="co"># Plot</span>
<span class="kw">plot</span>(unilever) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/labs">ggtitle</a></span>(<span class="st">"unilever"</span>)
<span class="kw">plot</span>(trm) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/labs">ggtitle</a></span>(<span class="st">"Term: apple"</span>)
<span class="kw">plot</span>(expr) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/labs">ggtitle</a></span>(<span class="st">"Expression"</span>)
<span class="kw">plot</span>(filt) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/labs">ggtitle</a></span>(<span class="st">"Filter"</span>)</code></pre></div>
<p><img src="plotting_files/figure-html/unnamed-chunk-1-1.png" width="288"><img src="plotting_files/figure-html/unnamed-chunk-1-2.png" width="288"><img src="plotting_files/figure-html/unnamed-chunk-1-3.png" width="288"><img src="plotting_files/figure-html/unnamed-chunk-1-4.png" width="288"></p>
<p>You can pass two fingerprints to plot() to visually compare the two fingerprints</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(ahold, unilever) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/labs">ggtitle</a></span>(<span class="st">"Ahold (red) v. Unilever (black)"</span>)
<span class="co">#&gt; Fingerprints share 16.17 percent overlap</span></code></pre></div>
<p><img src="plotting_files/figure-html/unnamed-chunk-2-1.png" width="576"></p>
<p>For terms and expressions, you can retrieve the context and terms, and plot these.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">trm_cont &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_context-methods.html">get_context</a></span>(trm)
trm_terms &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_similar_terms-methods.html">get_similar_terms</a></span>(trm)

expr_cont &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_context-methods.html">get_context</a></span>(expr)
expr_terms &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_similar_terms-methods.html">get_similar_terms</a></span>(expr)

<span class="kw">plot</span>(trm, <span class="dt">contexts =</span> trm_cont) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/labs">ggtitle</a></span>(<span class="st">"term context"</span>)
<span class="kw">plot</span>(trm, <span class="dt">terms =</span> trm_terms) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/labs">ggtitle</a></span>(<span class="st">"term similar terms"</span>)
<span class="kw">plot</span>(expr, <span class="dt">contexts =</span> expr_cont) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/labs">ggtitle</a></span>(<span class="st">"expression context"</span>)
<span class="kw">plot</span>(expr, <span class="dt">terms =</span> expr_terms) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/labs">ggtitle</a></span>(<span class="st">"expression similar terms"</span>)</code></pre></div>
<p><img src="plotting_files/figure-html/unnamed-chunk-3-1.png" width="288"><img src="plotting_files/figure-html/unnamed-chunk-3-2.png" width="288"><img src="plotting_files/figure-html/unnamed-chunk-3-3.png" width="288"><img src="plotting_files/figure-html/unnamed-chunk-3-4.png" width="288"></p>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Jasper Ginn.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
